# Leaflet - å¿ƒæƒ…è®°å½•ä¸åŒ¿ååˆ†äº«åº”ç”¨

## ğŸ“± é¡¹ç›®ç®€ä»‹

Leafletï¼ˆä¸€å¶å€¾å¿ƒï¼‰æ˜¯ä¸€ä¸ªä¸“æ³¨äºå¤§å­¦ç”Ÿå¿ƒç†å¥åº·çš„å‰ç«¯åº”ç”¨ï¼Œä¸ºç”¨æˆ·æä¾›æ¸©æš–çš„æƒ…ç»ªè®°å½•æ ‘æ´å’ŒåŒ¿ååˆ†äº«å¹³å°ã€‚ç”¨æˆ·å¯ä»¥è®°å½•å¿ƒæƒ…ã€åˆ†äº«æ„Ÿå—ã€äº’ç›¸é¼“åŠ±ï¼Œé€šè¿‡çº¸é£æœºçš„å½¢å¼ä¼ é€’æ¸©æš–ä¸æ”¯æŒã€‚

**é¡¹ç›®åç§°**: 25-HACK-1-Leaflet-FE  
**å¼€å‘å›¢é˜Ÿ**: æµ·åº•å°çºµé˜Ÿ - å®¶å›­å·¥ä½œå®¤è€ƒæ ¸ç¬¬ä¸€ç»„  
**æŠ€æœ¯æ ˆ**: React + TypeScript + Vite + Ant Design Mobile

##  æ ¸å¿ƒåŠŸèƒ½

###  å¿ƒæƒ…æ ‘ç³»ç»Ÿ
- **ä¸ªäººå¿ƒæƒ…è®°å½•**: æ”¯æŒå¤šç§åœºæ™¯ä¸‹çš„å¿ƒæƒ…è®°å½•
- **ç­‰çº§æˆé•¿**: æ ¹æ®è®°å½•å¤©æ•°å’Œæ´»è·ƒåº¦æå‡å¿ƒæƒ…æ ‘ç­‰çº§
- **æ•°æ®ç»Ÿè®¡**: ç´¯è®¡è®°å½•æ•°ã€è¿ç»­è®°å½•å¤©æ•°ç­‰å¯è§†åŒ–å±•ç¤º

###  çº¸é£æœºäº’åŠ¨
- **å†™çº¸æŠ˜çº¸**: åŒ¿ååˆ†äº«è‡ªå·±çš„å¿ƒæƒ…å’Œå›°æ‰°
- **æ‘˜çº¸é£æœº**: éšæœºè·å–å…¶ä»–ç”¨æˆ·çš„åˆ†äº«ï¼Œæä¾›å®‰æ…°å’Œå»ºè®®
- **ä»–äººå›ä¿¡**: æŸ¥çœ‹é’ˆå¯¹è‡ªå·±åˆ†äº«çš„å›å¤å’Œé¼“åŠ±
- **æ¯æ—¥é™åˆ¶**: åˆç†æ§åˆ¶æ¯æ—¥äº’åŠ¨æ¬¡æ•°ï¼Œé¿å…è¿‡åº¦ä½¿ç”¨

###  ä¸ªäººä¸­å¿ƒ
- **èµ„æ–™ç®¡ç†**: è‡ªå®šä¹‰æ˜µç§°å’Œå¤´åƒ
- **å†å²è®°å½•**: æŸ¥çœ‹æ‰€æœ‰å¿ƒæƒ…è®°å½•çš„å®Œæ•´æ¡£æ¡ˆ
- **æ•°æ®ç»Ÿè®¡**: ä¸ªäººä½¿ç”¨æƒ…å†µå’Œæˆé•¿è½¨è¿¹

###  åœºæ™¯åŒ–è®°å½•
- **ä¹å®«æ ¼é€‰æ‹©**: ç›´è§‚çš„åœºæ™¯é€‰æ‹©ç•Œé¢
- **åˆ†ç±»è®°å½•**: æŒ‰ä¸åŒç”Ÿæ´»åœºæ™¯åˆ†ç±»ç®¡ç†å¿ƒæƒ…
- **å¿«é€Ÿè®°å½•**: ç®€åŒ–è®°å½•æµç¨‹ï¼Œé™ä½ä½¿ç”¨é—¨æ§›

##  æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
```
React 19.1.1          # UIæ¡†æ¶
TypeScript 5.9.3      # ç±»å‹å®‰å…¨
Vite 7.1.7            # æ„å»ºå·¥å…·
React Router 7.9.5    # è·¯ç”±ç®¡ç†
Ant Design Mobile 5.41.1 # UIç»„ä»¶åº“
Axios 1.13.2          # HTTPå®¢æˆ·ç«¯
@iconify/react 6.0.2  # å›¾æ ‡åº“
```

### é¡¹ç›®ç»“æ„
```
Leaflet/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ layout/         # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AirplanePickPage/     # æ‘˜çº¸é£æœºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ AirplaneWritePage/    # å†™çº¸æŠ˜çº¸é¡µé¢
â”‚   â”‚   â”œâ”€â”€ EncouragementPage/    # æ¯æ—¥é¼“åŠ±é¡µé¢
â”‚   â”‚   â”œâ”€â”€ LoginPage/            # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ moodrecordPage/       # å¿ƒæƒ…è®°å½•ä¹å®«æ ¼
â”‚   â”‚   â”œâ”€â”€ MyPage/               # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ RecordPage/           # è®°å½•åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ SceneRecordPage/      # åœºæ™¯è®°å½•
â”‚   â”‚   â”œâ”€â”€ SolveReplyPage/       # ä»–äººå›ä¿¡
â”‚   â”‚   â””â”€â”€ TreePage/             # å¿ƒæƒ…æ ‘ä¸»é¡µ
â”‚   â”œâ”€â”€ services/          # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ apiClient.ts   # HTTPå®¢æˆ·ç«¯é…ç½®
â”‚   â”‚   â”œâ”€â”€ airplane.service.ts  # çº¸é£æœºç›¸å…³API
â”‚   â”‚   â”œâ”€â”€ auth.service.ts       # è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ encouragement.service.ts # é¼“åŠ±è¯­æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ mind.service.ts       # å¿ƒæƒ…è®°å½•æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ scene.service.ts      # åœºæ™¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ status.service.ts     # çŠ¶æ€æœåŠ¡
â”‚   â”‚   â””â”€â”€ user.service.ts       # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ lib/               # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ constants/     # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ hooks/         # è‡ªå®šä¹‰Hook
â”‚   â”œâ”€â”€ assets/            # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ images/        # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ main.tsx           # åº”ç”¨å…¥å£
â”œâ”€â”€ public/                # å…¬å…±èµ„æº
â””â”€â”€ package.json           # é¡¹ç›®é…ç½®
```

##  å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm >= 8.0.0 æˆ– pnpm >= 7.0.0

### å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨npm
npm install

# ä½¿ç”¨pnpmï¼ˆæ¨èï¼‰
pnpm install
```

### å¼€å‘ç¯å¢ƒ
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# æˆ–
pnpm dev

# åº”ç”¨å°†åœ¨ http://localhost:5173 å¯åŠ¨
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
# æˆ–
pnpm build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
# æˆ–
pnpm preview
```

### ä»£ç æ£€æŸ¥
```bash
# è¿è¡ŒPrettleæ£€æŸ¥
npm run lint
# æˆ–
pnpm lint
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒé…ç½®
é¡¹ç›®æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¿›è¡Œé…ç½®ï¼Œä¸»è¦é…ç½®é¡¹ï¼š

```typescript
// src/lib/constants/api.ts
export const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8080';
```

### ä»£ç†é…ç½®
å¼€å‘ç¯å¢ƒä¸‹ï¼ŒViteå·²é…ç½®APIä»£ç†ï¼š

```typescript
// vite.config.ts
export default defineConfig({
  server: {
    proxy: {
      "/api": {
        target: "http://localhost:8080",
        changeOrigin: true,
        secure: false,
      },
      "/mind": {
        target: "http://localhost:8080",
        changeOrigin: true,
        secure: false,
      },
    },
  },
});
```

## ğŸ“± é¡µé¢è·¯ç”±

| è·¯å¾„ | é¡µé¢åç§° | åŠŸèƒ½æè¿° |
|------|----------|----------|
| `/` | ç™»å½•é¡µ | ç”¨æˆ·ç™»å½•ï¼ˆæ”¯æŒæ¸¸å®¢æ¨¡å¼ï¼‰ |
| `/tree` | å¿ƒæƒ…æ ‘ | ä¸»é¡µé¢ï¼Œå±•ç¤ºå¿ƒæƒ…æ ‘å’Œæ ¸å¿ƒåŠŸèƒ½å…¥å£ |
| `/record` | å¿ƒæƒ…è®°å½• | åœºæ™¯é€‰æ‹©ä¹å®«æ ¼ï¼Œå¿«é€Ÿè®°å½•å¿ƒæƒ… |
| `/record/history` | ä¸ªäººå¿ƒæƒ…æ¡£æ¡ˆ | æŸ¥çœ‹æ‰€æœ‰å†å²è®°å½• |
| `/record/scene` | åœºæ™¯è®°å½• | ç‰¹å®šåœºæ™¯çš„è®°å½•è¯¦æƒ… |
| `/airplane/write` | å†™çº¸æŠ˜çº¸ | åŒ¿ååˆ†äº«å¿ƒæƒ… |
| `/airplane/pick` | æ‘˜çº¸é£æœº | è·å–ä»–äººåˆ†äº«å¹¶å›å¤ |
| `/solve-replies` | ä»–äººå›ä¿¡ | æŸ¥çœ‹æ”¶åˆ°çš„å›å¤ |
| `/encouragement` | æ¯æ—¥é¼“åŠ± | è·å–æ­£èƒ½é‡é¼“åŠ±è¯­ |
| `/my` | ä¸ªäººä¸­å¿ƒ | èµ„æ–™ç®¡ç†å’Œè®¾ç½® |

## ğŸ”Œ APIæ¥å£

### å¿ƒæƒ…è®°å½•ç›¸å…³
```typescript
// è®°å½•å¿ƒæƒ…
POST /status
Body: { tag_id: number, content: string }

// è·å–ç”¨æˆ·ç­‰çº§
GET /status/level

// è·å–æ‰€æœ‰è®°å½•
GET /status/mine

// åˆ é™¤è®°å½•
DELETE /status/:id

// æ›´æ–°è®°å½•
PUT /status/:id
```

### çº¸é£æœºç›¸å…³
```typescript
// å‘é€çº¸é£æœº
POST /mind
Body: { context: string }

// è·å–çº¸é£æœº
GET /mind

// è·å–æƒ…ç»ªç–å¯¼
GET /solve?mine=1

// å›å¤çº¸é£æœº
POST /solve/:id
Body: { solution: string }

// è·å–æ¯æ—¥é™åˆ¶
GET /api/mind/daily-limit
```

### ç”¨æˆ·ç›¸å…³
```typescript
// è·å–ç”¨æˆ·ä¿¡æ¯
GET /api/user/profile

// æ›´æ–°æ˜µç§°
PATCH /api/user/nickname
Body: { nickname: string }

// æ›´æ–°å¤´åƒ
PATCH /api/user/avatar
Body: { avatar: string }
```

## ğŸ¨ è®¾è®¡è§„èŒƒ

### è‰²å½©ç³»ç»Ÿ
- **ä¸»è‰²è°ƒ**: `#00a878` (æ¸©æš–ç»¿)
- **è¾…åŠ©è‰²**: `#6aa893` (æµ…ç»¿)
- **èƒŒæ™¯è‰²**: `#edfff5` â†’ `#f6fffb` (æ¸å˜)
- **æ–‡å­—è‰²**: `#2b2b2b` (æ·±ç°)
- **è¾¹æ¡†è‰²**: `#d8f3dc` (æ·¡ç»¿)

### ç»„ä»¶è§„èŒƒ
- **åœ†è§’**: ç»Ÿä¸€ä½¿ç”¨ 8pxã€12pxã€16pxã€24px
- **é—´è·**: ä½¿ç”¨ 4px çš„å€æ•°ç³»ç»Ÿ (8px, 12px, 16px, 20px, 24px)
- **å­—ä½“**: ç³»ç»Ÿé»˜è®¤å­—ä½“æ ˆï¼Œç¡®ä¿å„å¹³å°ä¸€è‡´æ€§
- **é˜´å½±**: ä½¿ç”¨ `box-shadow` è¥é€ å±‚æ¬¡æ„Ÿ

### å“åº”å¼è®¾è®¡
- **ç§»åŠ¨ä¼˜å…ˆ**: ä¸»è¦é’ˆå¯¹ç§»åŠ¨ç«¯è®¾è®¡
- **æ–­ç‚¹**: 375px (iPhone SE) - 414px (iPhone Pro)
- **å¸ƒå±€**: ä½¿ç”¨ Flexbox å’Œ Grid å®ç°å¼¹æ€§å¸ƒå±€

## ğŸ” æ•°æ®å­˜å‚¨

### æœ¬åœ°å­˜å‚¨
åº”ç”¨ä½¿ç”¨ localStorage å­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼š
```typescript
// ç”¨æˆ·ä¿¡æ¯å­˜å‚¨
localStorage.setItem('user_profile', JSON.stringify(userData));

// è®¤è¯ä»¤ç‰Œ
localStorage.setItem('token', userToken);

// æˆ‘çš„é—®é¢˜IDåˆ—è¡¨
localStorage.setItem('myProblemIds', JSON.stringify(problemIds));
```

### æ•°æ®åŒæ­¥
- **ä¼˜å…ˆæœ¬åœ°**: ä¿è¯ç¦»çº¿å¯ç”¨æ€§
- **å¼‚æ­¥åŒæ­¥**: åå°å°è¯•åŒæ­¥åˆ°æœåŠ¡å™¨
- **å®¹é”™å¤„ç†**: ç½‘ç»œå¤±è´¥æ—¶é™é»˜å¤„ç†ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### ç»„ä»¶æµ‹è¯•
- ä½¿ç”¨ React Testing Library è¿›è¡Œç»„ä»¶å•å…ƒæµ‹è¯•
- é‡ç‚¹æµ‹è¯•ç”¨æˆ·äº¤äº’å’ŒçŠ¶æ€ç®¡ç†

### é›†æˆæµ‹è¯•
- æµ‹è¯•é¡µé¢è·¯ç”±å’Œå¯¼èˆª
- éªŒè¯ API è°ƒç”¨å’Œæ•°æ®å¤„ç†

### ç«¯åˆ°ç«¯æµ‹è¯•
- ä½¿ç”¨ Cypress è¿›è¡Œå®Œæ•´ç”¨æˆ·æµç¨‹æµ‹è¯•
- è¦†ç›–æ ¸å¿ƒåŠŸèƒ½è·¯å¾„

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ä»£ç æ£€æŸ¥

é¡¹ç›®ä½¿ç”¨ ESLint è¿›è¡Œé™æ€æ£€æŸ¥ï¼ŒPrettier ç”¨äºä»£ç æ ¼å¼åŒ–ã€‚ä¸‹é¢æ˜¯æ¨èçš„æœ¬åœ°å‘½ä»¤ï¼š

```bash
# è¿è¡Œ ESLint æ£€æŸ¥
npm run lint
# æˆ–ï¼ˆè‹¥ä½¿ç”¨ pnpmï¼‰
- ä½¿ç”¨ WebP æ ¼å¼å›¾ç‰‡

# è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜
npm run lint -- --fix
pnpm run lint -- --fix

# å¦‚æœä»“åº“é…ç½®äº† Prettierï¼ˆpackage.json ä¸­æœ‰ format è„šæœ¬ï¼‰
npm run format
pnpm run format
```

å»ºè®®æäº¤å‰æŒ‰é¡ºåºæ‰§è¡Œï¼š`lint --fix` â†’ `format` â†’ `tsc --noEmit`ï¼ˆç±»å‹æ£€æŸ¥ï¼‰ã€‚åœ¨ CI ä¸­ä¹Ÿåº”è¿è¡Œç›¸åŒæ£€æŸ¥ä»¥ä¿è¯ä»£ç è´¨é‡ã€‚
- å®ç°å›¾ç‰‡æ‡’åŠ è½½
- å‹ç¼©é™æ€èµ„æº

### ç¼“å­˜ç­–ç•¥
- API å“åº”ç¼“å­˜
- é™æ€èµ„æºç¼“å­˜
- ç¦»çº¿æ•°æ®ç¼“å­˜

## ğŸš€ éƒ¨ç½²æŒ‡å—

### æ„å»ºé…ç½®
```bash
# ç”Ÿäº§ç¯å¢ƒæ„å»º
npm run build

# æ„å»ºç»“æœåœ¨ dist/ ç›®å½•
```

### ç¯å¢ƒå˜é‡
```bash
# .env.production
VITE_API_BASE_URL=https://api.leaflet.com
VITE_APP_TITLE=Leaflet - å¿ƒæƒ…è®°å½•
```

### éƒ¨ç½²é€‰é¡¹
1. **é™æ€æ‰˜ç®¡**: Vercel, Netlify, GitHub Pages
2. **CDNéƒ¨ç½²**: é˜¿é‡Œäº‘OSS, è…¾è®¯äº‘COS
3. **æœåŠ¡å™¨éƒ¨ç½²**: Nginx + PM2

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Fork é¡¹ç›®åˆ°ä¸ªäººä»“åº“
2. æäº¤æ›´æ”¹: `git commit -m 'Add amazing feature'`
3. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
4. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- éµå¾ª TypeScript ä¸¥æ ¼æ¨¡å¼
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ + Hooks
- ä¿æŒä»£ç ç®€æ´å’Œå¯è¯»æ€§

### æäº¤è§„èŒƒ
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug

```

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

##  è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸º Leaflet é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ã€‚

**ç‰¹åˆ«æ„Ÿè°¢**:
- å®¶å›­å·¥ä½œå®¤æä¾›çš„å¼€å‘æœºä¼š
- æµ·åº•å°çºµé˜Ÿå›¢é˜Ÿæˆå‘˜çš„åä½œ
- æ‰€æœ‰æµ‹è¯•ç”¨æˆ·çš„å®è´µåé¦ˆ

## ğŸ“ è”ç³»

- **é¡¹ç›®åœ°å€**: [GitHub Repository](https://github.com/your-org/25-HACK-1-Leaflet-FE)

**Leaflet** - è®©æ¯ä¸€ç‰‡å¶å­éƒ½èƒ½æ‰¾åˆ°å±äºè‡ªå·±çš„æ¸©æš– ğŸƒ
